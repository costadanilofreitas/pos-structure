<?xml version="1.0" encoding="UTF-8"?>
<config version="1.0">
    <group name="Identification">
        <key name="VersionId">
            <string>1.0.0</string>
        </key>
        <key name="ComponentName">
            <string>PosUpdater</string>
        </key>
    </group>
    <group name="Process">
        <key name="OnAbnormalTermination" descr="restart;abort;ignore">
            <string>restart</string>
        </key>
        <key name="OnLoadFailure" descr="abort;ignore">
            <string>abort</string>
        </key>
        <key name="Arguments" descr="process arguments">
            <array>
                <string>runpackage.py</string>
                <string>../../../src/pos-updater/src</string>
                <string>../../../src/pos-updater/lib</string>
                <string>common.pypkg</string>
            </array>
        </key>
        <key name="ExecutableModule">
            <string>python</string>
        </key>
        <key name="InitialState" descr="disabled;manual;automatic">
            <string>automatic</string>
        </key>
    </group>
    <group name="PosUpdater">
        <key name="RequiredServices" descr="List of POS services required to component startup">
            <array>
                <string>StoreWideConfig</string>
                <string>PosUpdaterPersistence</string>
            </array>
        </key>
        <key name="UpdatesPollingFrequency" descr="Time in seconds of updates polling frequency">
            <integer>30</integer>
        </key>
        <key name="WorkDirectory" descr="Directory to work with updates">
            <string>{HVDATADIR}/updater</string>
        </key>
        <group name="Managers" descr="Set of managers configurations for supported APIs">
            <group name="Catalog" descr="Manager configurations for catalog API">
                <key name="Enabled">
                    <boolean>True</boolean>
                </key>
                <key name="RestartAfterApply">
                    <boolean>True</boolean>
                </key>
                <key name="URL" descr="API base URL">
                    <string>https://boh-qa.hmledp.com.br/panel</string>
                </key>
                <key name="VerifyUpdatesFrequency" descr="Time in seconds of catalog polling frequency">
                    <integer>30</integer>
                </key>
                <group name="Authentication" descr="Authentication for catalog API requests">
                    <key name="User">
                        <string>edp6626</string>
                    </key>
                    <key name="Password">
                        <string>7004x10-34</string>
                    </key>
                </group>
                <group name="Window" descr="Update window hour. Format: %H:%M:%S">
                    <key name="StartTime">
                        <string>08:00:00</string>
                    </key>
                    <key name="EndTime">
                        <string>23:59:00</string>
                    </key>
                </group>
                <group name="Endpoints" descr="Catalog API endpoints">
                    <key name="getLatestVersion" descr="Check latest update version">
                        <string>/update/{storeId}/getLatestVersion</string>
                    </key>
                    <key name="download" descr="Download latest update">
                        <string>/update/{storeId}/download</string>
                    </key>
                    <key name="updatedTo" descr="Signals successful update">
                        <string>/update/{storeId}/updatedTo/{versionNumber}</string>
                    </key>
                </group>
            </group>
        </group>
    </group>
</config>